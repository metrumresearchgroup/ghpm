{
  "data": {
    "repository": {
      "milestone": {
        "issues": {
          "nodes": [
            {
              "number": 164,
              "title": "updating description file should ONLY retain the repo installed from, not the original repo",
              "body": "else this causes issues with snapshotting\r\n\r\nFor example in the original description given:\r\n\r\n```\r\nRepository: CRAN\r\n```\r\n\r\nafter installing from MPN it will look like:\r\n\r\n```\r\nRepository: CRAN MPN\r\n```\r\n\r\n```\r\nRepository: MPN\r\n```\r\n\r\nwhen detected that already Repository Field exists, it can change to `OriginRepository`",
              "author": {
                "login": "dpastoor"
              },
              "state": "OPEN"
            },
            {
              "number": 165,
              "title": "difficult to trace bug when doing multiple R version installs",
              "body": "I remember going through this in a live code review, looks like it was never reverted. @Dreznel transitioned an info to a Fatal call, which exits right then, making the rest of the code a no-op.\r\n\r\nhttps://github.com/metrumresearchgroup/pkgr/blame/1e295f9c3ccc76e2167eee848275ccbbbf62865a/cran/pkg_nexus.go#L45\r\n\r\nCurrently trying to debug a situation on windows where running pkgr plan/install on multiple versions of R consecutively to build binaries and the second R version fails with this error:\r\n\r\n```\r\nPS C:\\Users\\DevinPastoor\\Documents\\pkgrbuilder\\3.5\\2019-10-04> pkgr plan                                                                                           INFO[0000] Installation would launch 8 workers                                                                                                                     INFO[0000] R Version 3.5.3                                                                                                                                         INFO[0000] found installed packages                      count=0                                                                                                   FATA[0000] error downloading repo information from: MPN:https://mpn.metworx.com/snapshots/stable/2019-10-04  \r\n```\r\n\r\nIf I change the name to MPN2, it proceeds correctly, so something is going wrong decoding the cache. This doesn't completely make sense as the Hash for the cache does use the R version explicitly https://github.com/metrumresearchgroup/pkgr/blob/master/cran/repodb.go\r\n\r\nUnfortunately, this error is being swallowed until we do a new build",
              "author": {
                "login": "dpastoor"
              },
              "state": "OPEN"
            },
            {
              "number": 167,
              "title": "pkg random tmp install location is not actually random",
              "body": "",
              "author": {
                "login": "dpastoor"
              },
              "state": "OPEN"
            },
            {
              "number": 170,
              "title": "cap number of threads to max of 8 unless explicitly set in the yml",
              "body": "Past 8 threads and R can run into suggested dependencies webs that cause locking or other problems. Below that number does not have a problem. Running pkgr with a naive config on larger machines causes subtle problems that can be avoided this way.\r\n\r\n## Acceptance Criteria:\r\n\r\n* When no `threads` option is set in pkgr.yml or passed via command line, pkgr will use a number of threads equal to the number of CPUs available, or 8, whichever is lower.\r\n* When the `threads` option is set in `pkgr.yml` or passed in through the command line, the value given will *always* be respected (no capping at 8 in this case).",
              "author": {
                "login": "dpastoor"
              },
              "state": "OPEN"
            },
            {
              "number": 171,
              "title": "in install message list number of remaining packages ",
              "body": "As a progress bar, per #129 is not really feasible with the logging, this can at least give a sense of what is remaining\r\n\r\n```\r\nINFO[0242] Successfully Installed                        package=stringr repo=MPN version=1.4.0\r\n```\r\n\r\nto now\r\n\r\n```\r\nINFO[0242] Successfully Installed                        package=stringr repo=MPN version=1.4.0 remaining=8\r\n```",
              "author": {
                "login": "dpastoor"
              },
              "state": "OPEN"
            },
            {
              "number": 126,
              "title": "improve the error messages when incorrectly specifying pkgr.yml path",
              "body": "```\r\npkgr plan --library=/data/johnsmith/lib --config=/data/johnsmith\r\nINFO[0000] Installation would launch 7 workers\r\nINFO[0000] R Version 3.5.1\r\nINFO[0000] OS Platform x86_64-pc-linux-gnu\r\nINFO[0000] found installed packages                      count=99\r\nPANI[0000] error getting pkgdb  Package database must contain at least one RepoUrl\r\npanic: (*logrus.Entry) (0x9da7e0,0xc0004b38f0)\r\ngoroutine 1 [running]:\r\ngithub.com/sirupsen/logrus.Entry.log(0xc0000ba1e0, 0xc00052c390, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\r\n        /Users/devinpastoor/go/pkg/mod/github.com/sirupsen/logrus@v1.4.2/entry.go:239 +0x2ce\r\ngithub.com/sirupsen/logrus.(*Entry).Log(0xc0004b2000, 0x0, 0xc00013a",
              "author": {
                "login": "dpastoor"
              },
              "state": "OPEN"
            },
            {
              "number": 129,
              "title": "enhancement: installation progress bar",
              "body": "While the installation is happening a progress bar for \r\n\r\n`n_pkgs_installed/N_TOTAL_PKGS`\r\n\r\nwould be nice to give the user a reference of what is left in the install task given that in most cases a lot of packages are imported along with the original list in the yml",
              "author": {
                "login": "yonicd"
              },
              "state": "OPEN"
            },
            {
              "number": 211,
              "title": "`pkgr add renv` fails in cases where `Lockfile:\\n\\tType: renv` is set.",
              "body": "In cases where Lockfile Type is set to `renv`, `pkgr add renv` will not successfully add `renv` to the list of packages. The same thing happens for the package \"packrat\" and when Lockfile Type is set to `packrat`",
              "author": {
                "login": "Dreznel"
              },
              "state": "CLOSED"
            }
          ],
          "pageInfo": {
            "hasPreviousPage": false,
            "startCursor": "Y3Vyc29yOnYyOpLPf________5vOHhakuQ=="
          }
        }
      }
    }
  }
}
