query issues_bookend_comments($org: String!, $repo: String!, $cursor: String) {
  repository(owner: $org, name: $repo) {
    issues(last: 100, before: $cursor) {
      nodes {
        number
        comments {
          n_comments: totalCount
        }
        last: comments(last: 3) {
          nodes {
            author {
              login
            }
            publishedAt
            lastEditedAt
            editor {
              login
            }
            url
            bodyText
          }
        }
        first: comments(first: 1) {
          nodes {
            author {
              login
            }
            publishedAt
            lastEditedAt
            editor {
              login
            }
            url
            bodyText
          }
        }
      }
      pageInfo {
        hasPreviousPage
        startCursor
      }
    }
  }
}

